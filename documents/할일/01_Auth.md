# Auth 기능 요구사항 정의서

> 반려동물 용품 중고거래 서비스 - **Auth** 영역 기능 정리

---

## 목록

- [FR-001 일반 회원가입](#fr-001)
- [FR-002 일반 로그인](#fr-002)
- [FR-003 소셜 로그인](#fr-003)
- [FR-004 로그아웃](#fr-004)
- [FR-007 회원 탈퇴](#fr-007)
- [nan 비밀번호 찾기](#nan)

---

## FR-001 일반 회원가입

<a id="fr-001"></a>

- **요구사항 ID:** `FR-001`
- **대분류:** Auth
- **HTTP:** `POST`
- **구분:** 기능
- **우선순위:** 상

### 설명
- 비로그인 사용자는 회원가입 페이지를 통해 계정을 생성할 수 있습니다.
- • 입력 항목
- ◦ 이메일
- ◦ 이메일 인증 코드
- ◦ 비밀번호
- ◦ 이름
- ◦ 닉네임
- ◦ 생년월일
- ◦ 거주지 (시/도, 구)

### 비고
- 이메일 형식 및 중복 검증
- 이메일 인증 기능은 필수
- 필요닉네임 중복 확인 기능 필요
- 닉네임, 이름 최대 10자
- 비밀번호 유효성(특수기호, 대문자, 소문자, 숫자 포함) 검사 필요
- 최소 10글자 최대 30글자
- - 내가 회원가입 시도하면서 입력한 내 이메일 주소에 “인증코드” 가 도착하게끔 하는건 백엔드 역할.
- - 이메일 인증코드를 입력필드에 넣고 백엔드에 보내야 하는건 프론트 역할.
- - 인증코드 전송 버튼을 클릭시 “인증 번호를 발송했습니다.” 라는 안내문구를 띄워야만 합니다.
- - 이메일 인증코드 토큰이 무효가 되었을 경우 “만료된 인증코드입니다. 인증코드 전송 재시도 부탁드립니다.,” 라는 안내문구를 띄워야 합니다.
- - 만 14세 미만은 회원가입하지 못하도록 해야 합니다.(프론트 역할)

---

## FR-002 일반 로그인

<a id="fr-002"></a>

- **요구사항 ID:** `FR-002`
- **대분류:** Auth
- **HTTP:** `POST`
- **구분:** 기능
- **우선순위:** 상

### 설명
- 가입된 사용자는
- 이메일과 비밀번호를 입력하여 로그인을 진행할 수 있습니다.
- • 입력 항목
- ◦ 이메일
- ◦ 비밀번호

### 비고
- 이메일/비밀번호 불일치 시 오류 메시지 표시
- 로그인 성공 시 메인 페이지 또는 이전 페이지로 이동
- JWT 기반 인증 토큰 사용

---

## FR-003 소셜 로그인

<a id="fr-003"></a>

- **요구사항 ID:** `FR-003`
- **대분류:** Auth
- **HTTP:** `POST`
- **구분:** 기능
- **우선순위:** 상

### 설명
- 구글, 카카오 로그인 API 연동하여
- OAuth 로그인 후 DB에 넣는다.
- (최초 로그인 일 경우 회원가입 시켜야함)

### 비고
- (특이사항 없음)

---

## FR-004 로그아웃

<a id="fr-004"></a>

- **요구사항 ID:** `FR-004`
- **대분류:** Auth
- **HTTP:** `GET`
- **구분:** 기능
- **우선순위:** 상

### 설명
- 로그아웃과 동시에 토큰을 블랙리스트에 넣어서 무효화한다.

### 비고
- 블랙리스트 데이터 베이스 추가 및 삭제

---

## FR-007 회원 탈퇴

<a id="fr-007"></a>

- **요구사항 ID:** `FR-007`
- **대분류:** Auth
- **HTTP:** `DELETE`
- **구분:** 기능
- **우선순위:** 상

### 설명
- 사용자가 마이페이지 내의 회원 탈퇴 버튼을 클릭하여
- 탈퇴 사유 와 탈퇴 상세 사유 작성후
- 회원 탈퇴를 요청하면 해당 로그인 회원의 계정을 삭제 처리한다.
- ◦ 삭제시 주의 사항 안내문
- ◦ ”등록된 모든 상품이 삭제됩니다.”
- ◦ “거래 내역과 채팅 기록이 모두 삭제됩니다.” (판매중인 상품글만 삭제)
- ◦ “진행중인 거래가 있다면 먼저 완료해 주세요”
- 회원 탈퇴 즉시 로그아웃 처리가 되도록한다.
- 소셜 로그인의 경우 소셜 로그인 업체 측에 연결끊기 요청을 해야한다.

### 비고
- 삭제하면 모든 게시글들이나 댓글 대댓글, 개인정보들 모두 동시 삭제~
- -탈퇴 사유 5가지 (필수)
- • 서비스 불만족
- • 개인정보 우려
- • 사용 빈도 낮음
- • 경쟁 서비스 이용
- • 기타
- • 탈퇴 상세 사유 텍스트 제한(2~500까지(선택 사항)
- 탈퇴사유 5가지 중 1가지는 필수 선택
- 탈퇴 상세 사유는 선택적

---

## nan 비밀번호 찾기

<a id="nan"></a>

- **요구사항 ID:** `nan`
- **대분류:** Auth
- **HTTP:** `PATCH`
- **구분:** 기능
- **우선순위:** 상

### 설명
- 사용자는 로그인 화면에서 비밀번호를 잊었을 경우 비밀번호 찾기 기능을 통해 재설정할 수 있습니다.
- 1. 사용자는 등록된 이메일 주소를 입력하면 해당 이메일로 인증번호가 발송됩니다.
- 2. 사용자는 전달받은 인증코드를 로그인창에 있는 비밀번호 찾기 창에 넣고 인증하기 버튼을 누릅니다.
- 3. 새 비밀번호를 입력하는 칸과, 새 비밀번호 확인 칸에 비밀번호를 넣는 칸에 비밀번호를 입력합니다.
- 4. 비밀번호 변경 완료 버튼으로 비밀번호 변경을 완료합니다.
- 인증번호 발송 버튼 클릭 이후 이메일이 오지 않았다면 재전송이라는 버튼을 눌렀을 때 해당 이메일로 인증 번호가 재발송되어야 합니다.

### 비고
- 비밀번호 유효성 검증 필요 (대소문자, 숫자, 특수기호 조합)
- →  유효성 검증 실패시 “비밀번호는 대소문자 숫자 특수기호 조합이어야 합니다.” 라는 안내 문구를 띄워야만 합니다.
- 새 비밀번호 창과 새 비밀번호 확인이 서로 일치하는지 검증 필요
- → 불일치할 경우 “비밀번호가 일치하지 않습니다.” 라는 안내 문구를 띄워야만 합니다.
- 인증번호 발송 버튼을 클릭시 “인증 번호를 발송했습니다.” 라는 안내 문구를 띄워야만 합니다.
- 인증번호 토큰이 무효가 되었을 경우 “만료된 인증 코드입니다.” 라는 안내문구를 띄워야 합니다.

---
